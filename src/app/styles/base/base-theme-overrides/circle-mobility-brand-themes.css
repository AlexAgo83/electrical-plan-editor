:root {
  --cm-brand-primary: #05082c;
  --cm-brand-primary-hover: #032b6b;
  --cm-brand-primary-active: #021e4a;
  --cm-brand-primary-light: #0e369b;
  --cm-brand-accent-blue: #48caf3;
  --cm-brand-accent-azur: #82f4ee;
  --cm-brand-accent-pink: #ba0fb6;
  --cm-brand-bg-main: #05082c;
  --cm-brand-bg-elevated: #0a0f3e;
  --cm-brand-bg-card: #12175a;
  --cm-brand-bg-light: #f7dfd7;
  --cm-brand-text-dark-primary: #ffffff;
  --cm-brand-text-dark-secondary: #c8cbe6;
  --cm-brand-text-disabled: #6e7396;
  --cm-brand-text-light-primary: #05082c;
  --cm-brand-text-light-secondary: #4a4f6a;
  --cm-brand-border-dark: #1e2466;
  --cm-brand-border-light: #dddcdb;
  --cm-gradient-primary: linear-gradient(180deg, #0e369b, #05082c);
  --cm-gradient-tech: linear-gradient(120deg, #48caf3 0%, #0e369b 42%, #05082c 100%);
  --cm-gradient-tech-light: linear-gradient(120deg, #48caf3 0%, #0e369b 46%, #05082c 100%);
  --cm-gradient-brand: linear-gradient(120deg, #ba0fb6 0%, #05082c 100%);
}

.app-shell.theme-circle-mobility-light,
.app-shell.theme-circle-mobility-dark {
  --cm-accent-blue: var(--cm-brand-accent-blue);
  --cm-accent-azur: var(--cm-brand-accent-azur);
  --cm-accent-pink: var(--cm-brand-accent-pink);
  --cm-primary: var(--cm-brand-primary);
  --cm-primary-hover: var(--cm-brand-primary-hover);
  --cm-primary-active: var(--cm-brand-primary-active);
  --cm-primary-light: var(--cm-brand-primary-light);
  --cm-primary-gradient: var(--cm-gradient-primary);
  --cm-tech-gradient: var(--cm-gradient-tech);
  --cm-tech-gradient-header: var(--cm-gradient-tech-light);
}

.app-shell.theme-circle-mobility-light {
  --cm-surface-shell-top: var(--cm-brand-bg-light);
  --cm-surface-shell-bottom: #f3d9d2;
  --cm-surface-panel: rgba(255, 250, 248, 0.9);
  --cm-surface-button: #fbefeb;
  --cm-surface-input: #fff8f5;
  --cm-surface-table-head: rgba(248, 240, 235, 0.92);
  --cm-text-primary: var(--cm-brand-text-light-primary);
  --cm-text-secondary: var(--cm-brand-text-light-secondary);
  --cm-text-strong: var(--cm-brand-text-light-primary);
  --cm-border: var(--cm-brand-border-light);
  --cm-selection: var(--cm-primary-light);
  --cm-active-border: var(--cm-primary-light);
  --cm-active-text: #ffffff;
  --cm-badge-text: var(--cm-primary-hover);
  --cm-badge-text-error: #7e0a7b;
  --cm-badge-bg: rgba(72, 202, 243, 0.2);
  --cm-badge-bg-error: rgba(186, 15, 182, 0.14);
  --cm-row-selected: rgba(72, 202, 243, 0.14);
  --cm-row-wire-highlight: rgba(186, 15, 182, 0.09);
  --cm-label-stroke: rgba(255, 255, 255, 0.95);
  --cm-grid: color-mix(in srgb, var(--cm-accent-blue) 28%, var(--cm-primary) 16%, white);
  --cm-segment: var(--cm-primary-hover);
  --cm-wire-highlight: var(--cm-accent-pink);
  --cm-node-stroke: var(--cm-primary-light);
  --cm-node-connector-fill: #b8efff;
  --cm-node-splice-fill: #ffdfe3;
  --cm-node-intermediate-fill: #d5fbf7;
  --cm-floating-border: color-mix(in srgb, var(--cm-accent-blue) 45%, var(--cm-brand-border-light));

  --custom-shell-bg-top: var(--cm-surface-shell-top);
  --custom-shell-bg-bottom: var(--cm-surface-shell-bottom);
  --custom-shell-text: var(--cm-text-primary);
  --custom-panel-bg: var(--cm-surface-panel);
  --custom-panel-border: var(--cm-border);
  --custom-button-bg: var(--cm-surface-button);
  --custom-button-border: var(--cm-accent-blue);
  --custom-button-text: var(--cm-primary-hover);
  --custom-button-active-text: var(--cm-active-text);
  --custom-badge-bg: rgba(72, 202, 243, 0.16);
  --custom-badge-text: var(--cm-badge-text);
  --custom-input-bg: var(--cm-surface-input);
  --custom-input-border: var(--cm-border);
  --custom-input-text: var(--cm-text-primary);
  --custom-table-border: var(--cm-border);
  --custom-table-head-bg: var(--cm-surface-table-head);
  --custom-row-selected-bg: var(--cm-row-selected);
  --custom-row-wire-highlight-bg: var(--cm-row-wire-highlight);
  --custom-muted-text: var(--cm-text-secondary);
  --custom-strong-text: var(--cm-text-strong);
  --custom-label-stroke: var(--cm-label-stroke);
  --custom-selection: var(--cm-selection);
  --custom-accent: var(--cm-accent-blue);
  --custom-accent-2: var(--cm-accent-azur);
  --custom-grid: var(--cm-grid);
  --custom-segment: var(--cm-segment);
  --custom-wire-highlight: var(--cm-wire-highlight);
  --custom-node-stroke: var(--cm-node-stroke);
  --custom-node-connector-fill: var(--cm-node-connector-fill);
  --custom-node-splice-fill: var(--cm-node-splice-fill);
  --custom-node-intermediate-fill: var(--cm-node-intermediate-fill);
}

body:has(.app-shell.theme-circle-mobility-light) {
  background:
    radial-gradient(120% 120% at 8% 0%, color-mix(in srgb, var(--cm-brand-accent-blue) 22%, transparent), transparent 55%),
    radial-gradient(120% 120% at 100% 100%, color-mix(in srgb, var(--cm-brand-accent-pink) 14%, transparent), transparent 60%),
    linear-gradient(180deg, var(--cm-brand-bg-light), #f3d9d2);
}

.app-shell.theme-circle-mobility-dark {
  --cm-surface-shell-top: var(--cm-brand-bg-main);
  --cm-surface-shell-bottom: var(--cm-brand-bg-elevated);
  --cm-surface-panel: rgba(10, 15, 62, 0.88);
  --cm-surface-button: var(--cm-brand-bg-elevated);
  --cm-surface-input: var(--cm-brand-bg-main);
  --cm-surface-table-head: rgba(5, 8, 44, 0.94);
  --cm-text-primary: var(--cm-brand-text-dark-primary);
  --cm-text-secondary: var(--cm-brand-text-dark-secondary);
  --cm-text-strong: var(--cm-brand-text-dark-primary);
  --cm-border: var(--cm-brand-border-dark);
  --cm-selection: var(--cm-accent-blue);
  --cm-active-border: var(--cm-accent-blue);
  --cm-active-text: #ffffff;
  --cm-badge-text: #dffcff;
  --cm-badge-text-error: #ffd3ff;
  --cm-badge-bg: rgba(72, 202, 243, 0.2);
  --cm-badge-bg-error: rgba(186, 15, 182, 0.2);
  --cm-row-selected: rgba(72, 202, 243, 0.18);
  --cm-row-wire-highlight: rgba(186, 15, 182, 0.14);
  --cm-label-stroke: rgba(5, 8, 44, 0.92);
  --cm-grid: color-mix(in srgb, var(--cm-accent-blue) 30%, var(--cm-brand-border-dark));
  --cm-segment: var(--cm-accent-azur);
  --cm-wire-highlight: var(--cm-accent-pink);
  --cm-node-stroke: var(--cm-accent-blue);
  --cm-node-connector-fill: var(--cm-primary-light);
  --cm-node-splice-fill: #4b1452;
  --cm-node-intermediate-fill: var(--cm-brand-bg-card);
  --cm-floating-border: color-mix(in srgb, var(--cm-accent-blue) 48%, var(--cm-brand-border-dark));

  --custom-shell-bg-top: var(--cm-surface-shell-top);
  --custom-shell-bg-bottom: var(--cm-surface-shell-bottom);
  --custom-shell-text: var(--cm-text-primary);
  --custom-panel-bg: var(--cm-surface-panel);
  --custom-panel-border: var(--cm-border);
  --custom-button-bg: var(--cm-surface-button);
  --custom-button-border: var(--cm-accent-blue);
  --custom-button-text: var(--cm-text-secondary);
  --custom-button-active-text: var(--cm-active-text);
  --custom-badge-bg: var(--cm-badge-bg);
  --custom-badge-text: var(--cm-badge-text);
  --custom-input-bg: var(--cm-surface-input);
  --custom-input-border: var(--cm-border);
  --custom-input-text: var(--cm-text-primary);
  --custom-table-border: var(--cm-border);
  --custom-table-head-bg: var(--cm-surface-table-head);
  --custom-row-selected-bg: var(--cm-row-selected);
  --custom-row-wire-highlight-bg: var(--cm-row-wire-highlight);
  --custom-muted-text: var(--cm-text-secondary);
  --custom-strong-text: var(--cm-text-strong);
  --custom-label-stroke: var(--cm-label-stroke);
  --custom-selection: var(--cm-selection);
  --custom-accent: var(--cm-accent-blue);
  --custom-accent-2: var(--cm-accent-pink);
  --custom-grid: var(--cm-grid);
  --custom-segment: var(--cm-segment);
  --custom-wire-highlight: var(--cm-wire-highlight);
  --custom-node-stroke: var(--cm-node-stroke);
  --custom-node-connector-fill: var(--cm-node-connector-fill);
  --custom-node-splice-fill: var(--cm-node-splice-fill);
  --custom-node-intermediate-fill: var(--cm-node-intermediate-fill);
}

body:has(.app-shell.theme-circle-mobility-dark) {
  background:
    radial-gradient(120% 120% at 8% 0%, color-mix(in srgb, var(--cm-brand-accent-blue) 18%, transparent), transparent 55%),
    radial-gradient(120% 120% at 100% 100%, color-mix(in srgb, var(--cm-brand-accent-pink) 20%, transparent), transparent 62%),
    linear-gradient(180deg, var(--cm-brand-bg-main), var(--cm-brand-bg-elevated));
}

.app-shell.theme-circle-mobility-light .header-block,
.app-shell.theme-circle-mobility-dark .header-block {
  position: relative;
  overflow: hidden;
}

.app-shell.theme-circle-mobility-light .header-block::after,
.app-shell.theme-circle-mobility-dark .header-block::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.18;
}

.app-shell.theme-circle-mobility-light .header-block::after {
  background: var(--cm-tech-gradient-header);
}

.app-shell.theme-circle-mobility-dark .header-block::after {
  background: var(--cm-tech-gradient);
}

.app-shell.theme-circle-mobility-light .workspace-tab.is-active,
.app-shell.theme-circle-mobility-light .filter-chip.is-active,
.app-shell.theme-circle-mobility-light .header-settings-toggle.is-active,
.app-shell.theme-circle-mobility-light .settings-primary-action,
.app-shell.theme-circle-mobility-dark .workspace-tab.is-active,
.app-shell.theme-circle-mobility-dark .filter-chip.is-active,
.app-shell.theme-circle-mobility-dark .header-settings-toggle.is-active,
.app-shell.theme-circle-mobility-dark .settings-primary-action {
  border-color: var(--cm-active-border) !important;
  background: var(--cm-primary-gradient) !important;
  color: var(--cm-active-text) !important;
}

.app-shell.theme-circle-mobility-light .workspace-tab-badge,
.app-shell.theme-circle-mobility-light .header-ops-badge,
.app-shell.theme-circle-mobility-dark .workspace-tab-badge,
.app-shell.theme-circle-mobility-dark .header-ops-badge {
  border-color: var(--cm-accent-blue);
  background: var(--cm-badge-bg);
  color: var(--cm-badge-text);
}

.app-shell.theme-circle-mobility-light .workspace-tab-badge.is-error,
.app-shell.theme-circle-mobility-light .header-ops-badge.is-error,
.app-shell.theme-circle-mobility-dark .workspace-tab-badge.is-error,
.app-shell.theme-circle-mobility-dark .header-ops-badge.is-error {
  border-color: var(--cm-accent-pink);
  background: var(--cm-badge-bg-error);
  color: var(--cm-badge-text-error);
}

.app-shell.theme-circle-mobility-light .network-canvas-floating-controls,
.app-shell.theme-circle-mobility-light .network-canvas-floating-subnetworks,
.app-shell.theme-circle-mobility-light .network-canvas-floating-stats,
.app-shell.theme-circle-mobility-dark .network-canvas-floating-controls,
.app-shell.theme-circle-mobility-dark .network-canvas-floating-subnetworks,
.app-shell.theme-circle-mobility-dark .network-canvas-floating-stats {
  border-color: var(--cm-floating-border);
}
